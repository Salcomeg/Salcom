<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Scanner</title>
</head>
<body>
    <h1>QR Code Scanner</h1>
    <div id="scanner">
        <video id="preview"></video>
    </div>
    <div id="messages"></div>

    <script>
        // Improved error handling for QR code scanning
        function handleError(error) {
            const messagesDiv = document.getElementById('messages');
            switch (error.name) {
                case 'NotAllowedError':
                    messagesDiv.innerText = 'Camera access denied. Please allow camera access.';
                    break;
                case 'NotFoundError':
                    messagesDiv.innerText = 'No camera device found.';
                    break;
                case 'NotReadableError':
                    messagesDiv.innerText = 'Camera is being used by another application.';
                    break;
                default:
                    messagesDiv.innerText = 'An unknown error occurred.';
            }
        }

        // Multi-language support
        const messages = {
            en: {
                scanning: 'Scanning for QR codes...',
                found: 'QR Code found: ',
                error: 'Error occurred during scanning'
            },
            es: {
                scanning: 'Buscando códigos QR...',
                found: 'Código QR encontrado: ',
                error: 'Se produjo un error durante el escaneo'
            }
        };

        const currentLanguage = 'en';  // Set this based on user's preference

        function displayMessage(key, value) {
            const messagesDiv = document.getElementById('messages');
            messagesDiv.innerText = messages[currentLanguage][key] + value;
        }

        // Example of starting the scanner
        function startScanner() {
            // ... Setup code for QR scanner
            displayMessage('scanning', '');
            // Handle QR code scanning logic
        }

        startScanner();
    </script>
</body>
</html>